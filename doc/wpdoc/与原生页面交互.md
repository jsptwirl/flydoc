---
title: ä¸åŸç”Ÿé¡µé¢äº¤äº’
date: 2020-07-03T18:16:51
---

## ä¸åŸç”Ÿé¡µé¢äº¤äº’

UIå¼•æ“æ”¯æŒé…ç½®é¡µé¢ä¸éé…ç½®é¡µé¢äº¤äº’ï¼Œå®ç°ä¹‹é—´çš„è½¬è·³ã€‚ç›®å‰å·²ç»æ”¯æŒï¼š

1. é…ç½®é¡µé¢(é™„å¸¦å‚æ•°) è½¬è·³ éé…ç½®é¡µé¢
2. éé…ç½®é¡µé¢(é™„å¸¦å‚æ•°) è½¬è·³ é…ç½®é¡µé¢
3. é…ç½®é¡µé¢(ä¸å¸¦å‚æ•°) å›é€€ éé…ç½®é¡µé¢
4. éé…ç½®é¡µé¢(ä¸å¸¦å‚æ•°) å›é€€ é…ç½®é¡µé¢

## â€œé…ç½®é¡µé¢è½¬è·³éé…ç½®é¡µé¢â€å®ç°æ–¹å¼ä¸¾ä¾‹

é…ç½®çš„åè®®

```json
{
    "pageinfo": {
        "code": "989409616339275875",
        "title": "æµ‹è¯•è¡¨å•"
    },
    "presenter": {
        "handlers": [
            {
                "desc": "é“¾æ¥åˆ°éé…ç½®ç•Œé¢äº‹ä»¶",
                "actions": [
                    {
                        "desc": "é“¾æ¥åˆ°éé…ç½®ç•Œé¢è¡Œä¸º",
                        "type": "link",
                        //nativeæ˜¯è½¬è·³åˆ°éé…ç½®ç•Œé¢çš„è¯†åˆ«å‰ç¼€
                        //ç›®å‰IDEä¸æ”¯æŒé…ç½®nativeå‰ç¼€ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹
                        //è½¬è·³keyä¸ºâ€œunConfigVCLâ€çš„éé…ç½®ç•Œé¢
                        "pagecode": "native:unConfigVCL",
                        "param": {
                            "name": "__linkparam",
                            "properties": [
                                {
                                    "name": "param1",
                                    "value": "1"
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
}
```

ä»£ç å®ç°ï¼Œä»¥iOSä¸ºä¾‹

```swift
//æ³¨å†Œéé…ç½®ç•Œé¢ï¼Œkeyä¸º"unConfigVCL"ï¼Œéœ€è¦ä¸é…ç½®åè®®ä¿å­˜ä¸€è‡´
XPEEngine.pageNavigation().registViewControllerClass(TestViewController.self, forKey: "unConfigVCL")

//éé…ç½®ç•Œé¢
//éé…ç½®ç•Œé¢çš„æ„å»ºæ—¶æœºç”±UIå¼•æ“å†³å®š
class TestViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()

        //æå–å¼•æ“ä¼ é€’è¿‡æ¥çš„å‚æ•°é›†åˆ
        //å‚æ•°é›†åˆä¸ºå­—å…¸-å­—ç¬¦ä¸²ç±»å‹
        if let p = param?[XPEPageEventLinkParam] as? [String: String] {

            //æå–param1å‚æ•°çš„å€¼
            if let p1 = p["param1"] {
                print(p1)
            }
        }
    }
}
```

## â€œéé…ç½®é¡µé¢è½¬è·³é…ç½®é¡µé¢â€å®ç°æ–¹å¼ä¸¾ä¾‹

é…ç½®çš„åè®®

```json
{
    "pageinfo": {
        "code": "989409616339275875",
        "title": "æµ‹è¯•è¡¨å•"
    },
    "presenter": {
        "initial": [
            {
                "desc": "æ¥æ”¶å‚æ•°äº‹ä»¶",
                "actions": [
                    {
                        "desc": "æ¥æ”¶å‚æ•°è¡Œä¸º",
                        "type": "receivelink",
                        "param": {
                            "name": "__linkparam",
                            "properties": [
                                {
                                    "name": "param1",
                                    "paramtype": "3"
                                },
                                {
                                    "name": "param2",
                                    "paramtype": "3"
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
}
```

ä»£ç å®ç°ï¼Œä»¥iOSä¸ºä¾‹

```swift
//ä»éé…ç½®ç•Œé¢è½¬è·³åˆ°é…ç½®ç•Œé¢

//é…ç½®ç•Œé¢æ¥å—çš„å‚æ•°ï¼Œkeyéœ€è¦ä¸ReceiveLinkActionä¸­paramé…ç½®ä¸€è‡´ï¼Œå¦åˆ™ä¸èƒ½æ¥æ”¶å‚æ•°ï¼Œä¸”å‚æ•°å€¼å¿…é¡»ä¸ºStringç±»å‹
let param = ["param1": "1", "param2": "2"]

//æ”¯æŒä½¿ç”¨è¡¨å•çš„codeä¸ºç›®æ ‡è¿›è¡Œè½¬è·³            
//è½¬è·³åˆ°codeä¸ºâ€œ989409616339275875â€çš„è¡¨å•
let pageCode = "989409616339275875"
        XPEEngine.pageNavigation().push(pageCode: pageCode, pageParam: param as [String : AnyObject])

//æ”¯æŒä½¿ç”¨è¡¨å•çš„åå­—ä¸ºç›®æ ‡è¿›è¡Œè½¬è·³            
//è½¬è·³åˆ°åå­—ä¸ºâ€œæµ‹è¯•è¡¨å•â€çš„è¡¨å•
let pageName = "æµ‹è¯•è¡¨å•"
XPEEngine.pageNavigation().push(pageName: pageName, pageParam: param as [String : AnyObject])
```

## â€œé…ç½®é¡µé¢å›é€€éé…ç½®é¡µé¢â€å®ç°æ–¹å¼ä¸¾ä¾‹

ç”±UIå¼•æ“é»˜è®¤æ”¯æŒå›é€€åˆ°ä¸Šä¸€ä¸ªç•Œé¢ï¼Œä¸åŒºåˆ†æ˜¯å¦é…ç½®ç•Œé¢

## â€éé…ç½®é¡µé¢å›é€€é…ç½®é¡µé¢â€å®ç°æ–¹å¼ä¸¾ä¾‹

ä»£ç å®ç°ï¼Œä»¥iOSä¸ºä¾‹

```swift
//ä½¿ç”¨å…¨å±€å¯¼èˆªå›é€€
XUINavigationController.pop()
```