---
title: 外系统对接日志记录
date: 2021-11-16T09:11:58
---

# 外系统对接日志记录

### 背景

大部分项目中，都会涉及到和第三方系统的对接，如我们调用第三方系统的接口推送数据或获取数据，或者是第三方系统调用我们的接口推送数据或获取数据。在接口调用过程中，难免会出现一些错误信息，在项目正式上线后，我们是无法直接在界面上操作去复现问题或者获取IDE日志的，而且要造测试数据也可能会很麻烦，那么我们就要找到接口调用报错的原因就会变得很麻烦，我们可能光是造数据去操作来复现问题就要花很多时间。所以有一个对接日志的记录是非常有必要的，有时候我们可以直接通过日志记录的调用异常信息就可以知道是什么问题，或者是通过日志记录中的出入参去进行排查问题。日志记录中的调用结果、异常信息，可以快速的帮助我们查看接口调用结果，而日志记录中的出参入参可以快速帮我们复现问题。

### 现有的问题痛点

目前实施开发人员只能通过在界面上去重新操作一次，获取IDE的日志来查看接口调用信息，或者是通过连接服务器去获取服务器上的日志去查看。但是，连接正式环境的服务器去查看日志并不是所有实施同事都可以操作。而且重新在界面上操作去复现问题，如果数据比较复杂，光是造数据都需要花一些时间，而且就算是一样的数据提交上去，与外系统对接得到的结果也不一定是一样的，这也给我们排查问题复现问题加大了难度。因为如果是第三方系统的一些超时、服务器刚好重启等问题导致对接失败，这些都是比较难重现的。

## 一、解决方案

在每次调用第三方系统的接口，或者是第三方系统调用我们的接口时，创建一个日志记录的对象，将调用信息都记录起来。  
​

## 二、数据库及ide配置

#### 1、数据库

**创建业务实体**  
1、在ide业务实体里，导入“业务对象-2021-09-01.json”。

#### 2、创建数据库函数

1、在ide数据库函数中导入“自定义函数-2021-09-01.json”

#### 3、创建业务领域

1、在ide业务领域里，导入“业务行为-2021-09-01.json”。  
完成业务领域的创建。

#### 4、创建业务UI

1、在业务UI里，导入“业务UI-2021-09-01.json”.  
完成业务UI的创建。

#### 5、配置导航、挂功能点

在功能配置里面先配置好导航，新增节点。再在关联功能里面，新增功能，关联UI。

#### 6、页面菜单权限配置

用SFA管理员登录即可

### 界面效果

![](http://apaas.wxchina.com:8881/wp-content/uploads/%E7%95%8C%E9%9D%A2%E6%95%88%E6%9E%9C.png)

相关文件下载：  
[COM-BC029-FC001-外系统对接日志记录](http://apaas.wxchina.com:8881/wp-content/uploads/COM-BC029-FC001-外系统对接日志记录.zip "COM-BC029-FC001-外系统对接日志记录")

视频讲解：

<video><source />[http://apaas.wxchina.com:8881/wp-content/uploads/古凯炜.mp4](http://apaas.wxchina.com:8881/wp-content/uploads/古凯炜.mp4)</video>