---
title: 地址自动获取行政区域
date: 2021-07-07T20:11:03
---

# 地址自动获取行政区域实现方案

使用过程中，若有问题请联系：行业组件部-王娟

## 业务背景

​ 在WEB端/APP端能通过定位地址自动解析获取对应的行政区域。

### 一、问题存在痛点

1、在两端操作中，往往门店信息维护时，修改了定位，还要手动去调整行政区域，并且行政区域过多，用户操作起来会感觉很慢，感觉二次维护了定位，拜访过程中比较浪费时间。

### 二、自动获取的价值

1、随时能根据获取的定位地址自动获取到对应的行政区域。

2、减少人为操作的时间。

### 三、自动获取业务场景

1、张三新增门店，填写门店信息，给门店增加完定位信息后，往往还需维护对应行政区域。

## 解决方案

​ 根据定位地址的中文地址，经纬度，通过平台的高德API调取函数，解析出对应的。

​

### 一、自动获取功能，使用具体操作步骤

在app端有功能权限的人员进行维护门店数据，点击定位获取地址后，行政区域会自动选择并显示。

如下图操作

![图片1](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%871.png)  
![图片2](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%872.png)  
![图片6](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%876.png)

### 二、开发人员具体操作步骤

​ 由实施人员操作以下步骤：

### （1）准备内容：

#### 1、实体

''终端客户"-"kx\_kq\_store"

#### 2、接口

"终端客户-行政区域自动选择"

#### 3、UI

"终端客户编辑"

### （2）操作步骤：

#### 1、导入实体

''终端客户"-"kx\_kq\_store"

该实体对象为标准产品实体，不用改动，除非字段有所调整，需要根据实际作判断。

---

#### 2、导入业务领域

在ide业务领域里，导入"业务行为-终端客户-行政区域自动选择",完成业务领域的创建。

![图片3](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%873.png)

---

#### 3、导入UI

在业务UI里，要考虑清楚是否为标准产品的"终端客户编辑"，如果有改动过的，请修改了需导入的UI的code后再进行导入，然后在导入的页面上参考控件“详细地址”上的值改变事件进行配置

![图片4](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%874.png)

![图片5](http://apaas.wxchina.com:8881/wp-content/uploads/%E5%9C%B0%E5%9D%80%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%9F%9F-%E5%9B%BE%E7%89%875.png)

### 组件包下载（百度网盘，也可到SVN获取）

地址自动获取行政区域-链接：链接：[https://pan.baidu.com/s/1U-eSViGMvh1cbXtkbIDeKA](https://pan.baidu.com/s/1U-eSViGMvh1cbXtkbIDeKA)  
提取码：twov  
直接下载：  
[COM-BC005-FC001 地址自动获取行政区域](http://apaas.wxchina.com:8881/wp-content/uploads/COM-BC005-FC001-地址自动获取行政区域.zip "COM-BC005-FC001 地址自动获取行政区域")