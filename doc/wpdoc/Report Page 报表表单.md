---
title: Report Page 报表表单
date: 2020-05-19T19:33:23
---

## Report Page 报表表单

报表表单，专门用于放置一个或多个报表的表单。

```json
{
    "pageinfo": {
        "code": "961117599595368547",
        "reportdesclist": [
            {
                "reportcode": "961117599595368546",
                "desccode": "984718410288074801"
            }
        ]
    },
    "view": {
        "body": {
            "flex": "1",
            "type": "layout",
            "content": [
                {
                    "type": "report",
                    "code": "961117599595368546",
                    "reportdesccode": "984718410288074801"
                }
            ]
        }
    }
}
```

* reportdesclist

  冗余的 `报表控件` 与 `报表描述文件` 的关联表。主要是方便前端在解析报表控件之前，将报表描述文件中的内容整合到报表表单中。

## 报表控件

请参看 [控件说明](../../../Widgets/WidgetsList/Report.md)

## 报表描述文件

该文件是为了满足报表特殊的配置需求，单独将与一个报表相关的信息，例如筛选条件，数据来源，等信息单独放置在一个协议文件中，该文件就是报表描述文件。

该文件最终会在前端与和报表表单进行合并，然后再显示出真正的报表表单。

报表描述文件的结构与普通表单的结构不太一样，大致如下：

```json
{
    "code": "984639262718824496",
    "type": "7",
    "report": {
        "code": "984639262718824504",
        "type": "report"
    },
    "handlers": [],
    "filter": {}
}
```

* report

  这里放置对应的报表控件的完整协议

* handlers

  这里放置该报表所需的表单事件，会在前端整合进报表表单中。

* filter

  该报表所需的筛选控件的协议，会在前端整合进报表表单中。

关于筛选条件，由于存在着以下需求：  
  
1\. 筛选条件只作用于该报表  
  
2\. 筛选条件作用于该报表所处表单的所有报表控件  
  
3\. 筛选条件部分作用于报表所处表单的所有报表控件

目前的协议并不能很好的处理这些情况，之后会做调整。